<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta charset="utf-8">
  <title>juzniemoge.pl</title>
  <meta name="description" content="">
  <meta name="author" content="">
  

  <!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#2196f3">

  <!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

  <!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/skeleton.css">
  <link rel="stylesheet" href="css/landing.css">
  <link rel="stylesheet" href="css/main.css">

  <!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <link rel="icon" type="image/png" href="images/favicon.png">

</head>

<body>

  <!-- Primary Page Layout
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
  <div class="container">
    <div class="row header-landing">
      <h2>Liczenie kalorii, prościej.</h2>
      <h6>Dziennik kalorii rozumiejący język naturalny.</h6>
        <button class="unsupported" id="unsupported">Otwórz na komórce by zainstalować</button>
        <button class="add-button button-primary">Zainstaluj</button>
    </div>
    <div class="row">
    
    </div>
    <div class="row">
  <div class="container app-space" id="main">
    <!-- Date selector section -->
    <div class="row">
      <div class="twelve columns header">
        <button class="datechange" id="date-left">&lt;</button>
        <span id="date">-</span>
        <button class="datechange" id="date-right">&gt;</button>
        <div class="u-pull-right" id="settings-icon">S</div>
      </div>
    </div>

    <!-- Food items section -->
    <div class="row summary section">
      <div class="twelve columns">
        <div class="items row" id="items">
        </div>
      </div>
    </div>

    <!-- Commands section -->
    <div class="row">
      <div contenteditable="true" class="commands" id="command" autocapitalize="none"></div>
    </div>

    <!-- Summary section -->
    <div class="row">
      <div class="summary" id="summary">^ Kliknij i dodaj jakieś papu</div>
    </div>

    <div class="overlay row">
      <div class="row"></div>

    </div>
  </div>

  <div class="container hidden" id="settings">
    <div class="row">
      <div class="twelve columns">
        <div class="u-pull-right" id="close-settings-icon">X</div>
      </div>

      <div class="row section">
        <div class="twelve columns">
          <label for="calorieLimitInput">Limit kalorii</label>
          <input class="u-full-width" type="text" placeholder="1800" id="calorieLimitInput">
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  <!-- Service Worker for PWA -->
  <script>
    const PATH = '/service-worker.js';

      console.log('Registering service worker...');
      navigator.serviceWorker.register(PATH).then(function () {
        console.log("Service worker registered.");
      }).catch(function (err) {
        console.log("Service worker registration failed: ", err)
      });
  </script>
  
  <!-- Scripts -->
  <script>
      const $demo = true;
  </script>
  <script src="utils.js"></script>
  <script src="app.js"></script>
  <script src="events.js"></script>
  <script>
    let deferredPrompt;
    const addBtn = document.querySelector('.add-button');
    const unsupportedBtn = document.querySelector('#unsupported');
    addBtn.classList.add("hidden")
    window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        e.preventDefault();
        // Stash the event so it can be triggered later.
        deferredPrompt = e;
        // Update UI to notify the user they can add to home screen
        unsupportedBtn.style.display = "none"
        addBtn.classList.remove("hidden");

        addBtn.addEventListener('click', (e) => {
          // hide our user interface that shows our A2HS button
          addBtn.style.display = 'none';
          // Show the prompt
          deferredPrompt.prompt();
          // Wait for the user to respond to the prompt
          deferredPrompt.userChoice.then((choiceResult) => {
            if (choiceResult.outcome === 'accepted') {
              console.log('User accepted the A2HS prompt');
            } else {
              console.log('User dismissed the A2HS prompt');
            }
            deferredPrompt = null;
          });
        });
      });
  </script>
  <!-- End of Scripts -->
  <!-- <script src="scripts.js"></script> -->
  <!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>

</html>
